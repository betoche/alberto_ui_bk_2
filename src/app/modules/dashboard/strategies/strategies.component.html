<mat-card class="p-0 mt-50 margin-bottom-100" [@animate]="{ value: '*', params: { y: '50px', delay: '300ms' } }">
  <br>
  <h1 translate class="strategies-page-title">
    STRATEGIES
  </h1>

  <mat-card-content class="p-0">
    <div class="clearfix">
      <mat-form-field class="width-500px" appearance="outline">
        <input
          matInput
          type="search"
          name="search"
          placeholder="{{ 'SEARCH_NAME_OR_SPONSOR' | translate }}"
          class="mdc-text-field--no-label"
          searchInput
          [(ngModel)]="filterOptions.keyword"
        />
        <mat-icon class="text-grey-B000" matSuffix>search</mat-icon>
      </mat-form-field>
      <button
        mat-raised-button
        class="float-right add-new ml-05 mb-05 tot-default-submit-btn"
        color="primary"
        routerLink="/dashboard/strategies/new"
      >
        + {{ 'NEW' | translate }}
      </button>
    </div>


    <hr class="mr-b50 green-border">

    <ngx-datatable
      class="material ml-0 mr-0"
      [rows]="rows | filerConditions:filterOptions.keyword:'name':{isContain: true}"
      [columnMode]="'force'"
      [headerHeight]="'auto'"
      [footerHeight]="50"
      [scrollbarH]="true"
      [limit]="25"
      [rowHeight]="'auto'"
      [messages]="datatableMessages"
      [selectAllRowsOnPage]="false"
    >
      <ngx-datatable-column
        [width]="50"
        [sortable]="false"
        [canAutoResize]="false"
        [draggable]="false"
        [resizeable]="false"
      >
      </ngx-datatable-column>

      <ngx-datatable-column name="{{ 'Id' }}" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.id }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="{{ 'STRATEGY_NAME' | translate }}" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          <a class="text-underline" (click)="openDetail(row)">{{ row?.name }}</a>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="{{ 'SPONSOR' | translate }}" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.sponsor }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="{{ 'TYPE' | translate }}" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.strategy_type_name }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="{{ 'LAUNCHING_DATE' | translate }}" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.initial_date | date: 'dd/MM/yyyy' }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="{{ 'EXPIRATION_DATE' | translate }}" [flexGrow]="1">
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{ row?.end_date | date: 'dd/MM/yyyy' }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="{{ 'ACTIONS' | translate }}" [flexGrow]="1" width="400">
        <ng-template let-row="row" ngx-datatable-cell-template>
          <a color="primary" class="mr-1 text-underline edit-btn" (click)="editStrategy(row)">
            <span translate>EDIT</span>
          </a>
          <a color="warn" class="mr-1 text-underline delete-btn" (click)="deleteItem(row)">
            <span translate>DELETE</span>
          </a>
        </ng-template>
      </ngx-datatable-column>
    </ngx-datatable>
  </mat-card-content>
</mat-card>